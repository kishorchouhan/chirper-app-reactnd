(this.webpackJsonpchirper=this.webpackJsonpchirper||[]).push([[0],{33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),s=a.n(i),o=(a(38),a(6)),l=a(7),c=a(9),u=a(8),m=a(10),p=a(14),d=a(15),h=a(2),g=a(32),f=a(12),b=a(1),v={sarah_edo:{id:"sarah_edo",name:"Sarah Drasner",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",tweets:["8xf0y6ziyjabvozdd253nd","hbsc73kzqi75rg7v1e0i6a","2mb6re13q842wu8n106bhk","6h5ims9iks66d4m7kqizmv","3sklxkf9yyfowrf0o1ftbb"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",tweets:["5c9qojr2d1738zlx09afby","f4xzgapq7mu783k9t02ghx","nnvkjqoevs8t02lzcc0ky","4pt0px8l0l9g6y69ylivti","fap8sdxppna8oabnxljzcv","leqp4lzfox7cqvsgdj0e7","26p5pskqi88i58qmza2gid","xi3ca2jcfvpa0i3t4m7ag"]},dan_abramov:{id:"dan_abramov",name:"Dan Abramov",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",tweets:["5w6k1n34dkp1x29cuzn2zn","czpa59mg577x1oo45cup0d","omdbjl68fxact38hk7ypy6","3km0v4hf1ps92ajf4z2ytg","njv20mq7jsxa6bgsqc97","sfljgka8pfddbcer8nuxv","r0xu2v1qrxa6ygtvf2rkjw"]}},y={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",text:"Shoutout to all the speakers I know for whom English is not a first language, but can STILL explain a concept well. It's hard enough to give a good talk in your mother tongue!",author:"sarah_edo",timestamp:1518122597860,likes:["tylermcginnis"],replies:["fap8sdxppna8oabnxljzcv","3km0v4hf1ps92ajf4z2ytg"],replyingTo:null},"5c9qojr2d1738zlx09afby":{id:"5c9qojr2d1738zlx09afby",text:"I hope one day the propTypes pendulum swings back. Such a simple yet effective API. Was one of my favorite parts of React.",author:"tylermcginnis",timestamp:1518043995650,likes:["sarah_edo","dan_abramov"],replies:["njv20mq7jsxa6bgsqc97"],replyingTo:null},f4xzgapq7mu783k9t02ghx:{id:"f4xzgapq7mu783k9t02ghx",text:"Want to work at Facebook/Google/:BigCompany? Start contributing code long before you ever interview there.",author:"tylermcginnis",timestamp:1517043995650,likes:["dan_abramov"],replies:[],replyingTo:null},hbsc73kzqi75rg7v1e0i6a:{id:"hbsc73kzqi75rg7v1e0i6a",text:"Puppies 101: buy a hamper with a lid on it.",author:"sarah_edo",timestamp:1516043995650,likes:["tylermcginnis"],replies:["leqp4lzfox7cqvsgdj0e7","sfljgka8pfddbcer8nuxv"],replyingTo:null},"5w6k1n34dkp1x29cuzn2zn":{id:"5w6k1n34dkp1x29cuzn2zn",text:"Is there a metric like code coverage, but that shows lines that, if changed (in a syntactically correct way), wouldn\u2019t cause tests to fail?",author:"dan_abramov",timestamp:1515043995650,likes:["sarah_edo"],replies:[],replyingTo:null},czpa59mg577x1oo45cup0d:{id:"czpa59mg577x1oo45cup0d",text:"React came out 'rethinking best practices'. It has since accumulated 'best practices' of its own. Let\u2019s see if we can do better.",author:"dan_abramov",timestamp:1515043995650,likes:["tylermcginnis","sarah_edo"],replies:["3sklxkf9yyfowrf0o1ftbb"],replyingTo:null},"2mb6re13q842wu8n106bhk":{id:"2mb6re13q842wu8n106bhk",text:"I think I realized I like dogs so much because I can really relate to being motivated by snacks",author:"sarah_edo",timestamp:1514043995650,likes:["dan_abramov"],replies:["26p5pskqi88i58qmza2gid"],replyingTo:null},nnvkjqoevs8t02lzcc0ky:{id:"nnvkjqoevs8t02lzcc0ky",text:"Maybe the real benefit of open source was the friendships we made along the way?",author:"tylermcginnis",timestamp:1513043995650,likes:[],replies:[],replyingTo:null},omdbjl68fxact38hk7ypy6:{id:"omdbjl68fxact38hk7ypy6",text:"A 7-minute Paul Joseph Watson video being translated and aired by a Russian state TV channel is the most surreal thing I\u2019ve seen in 2018 yet",author:"dan_abramov",timestamp:1512043995650,likes:[],replies:[],replyingTo:null},"4pt0px8l0l9g6y69ylivti":{id:"4pt0px8l0l9g6y69ylivti",text:"Talking less about the downsides of OSS and focusing on some of the huge potential upsides for once might just help get more people into it.",author:"tylermcginnis",timestamp:1511043995650,likes:["dan_abramov"],replies:[],replyingTo:null},"6h5ims9iks66d4m7kqizmv":{id:"6h5ims9iks66d4m7kqizmv",text:"By the way, if you have a blog post sitting around and want to get some eyes on it, we take guest submissions! That's how I started.",author:"sarah_edo",timestamp:1510043995650,likes:["dan_abramov","tylermcginnis"],replies:["xi3ca2jcfvpa0i3t4m7ag","r0xu2v1qrxa6ygtvf2rkjw"],replyingTo:null},fap8sdxppna8oabnxljzcv:{id:"fap8sdxppna8oabnxljzcv",author:"tylermcginnis",text:"I agree. I'm always really impressed when I see someone giving a talk in a language that's not their own.",timestamp:1518122677860,likes:["sarah_edo"],replyingTo:"8xf0y6ziyjabvozdd253nd",replies:[]},"3km0v4hf1ps92ajf4z2ytg":{id:"3km0v4hf1ps92ajf4z2ytg",author:"dan_abramov",text:"It can be difficult at times.",timestamp:1518122667860,likes:[],replyingTo:"8xf0y6ziyjabvozdd253nd",replies:[]},njv20mq7jsxa6bgsqc97:{id:"njv20mq7jsxa6bgsqc97",author:"dan_abramov",text:"Sometimes you have to sacrifice simplicity for power.",timestamp:1518044095650,likes:["tylermcginnis"],replyingTo:"5c9qojr2d1738zlx09afby",replies:[]},leqp4lzfox7cqvsgdj0e7:{id:"leqp4lzfox7cqvsgdj0e7",author:"tylermcginnis",text:"Also trashcans. Learned this the hard way.",timestamp:1516043255650,likes:[],replyingTo:"hbsc73kzqi75rg7v1e0i6a",replies:[]},sfljgka8pfddbcer8nuxv:{id:"sfljgka8pfddbcer8nuxv",author:"dan_abramov",text:"Puppies are the best.",timestamp:1516045995650,likes:["sarah_edo","tylermcginnis"],replyingTo:"hbsc73kzqi75rg7v1e0i6a",replies:[]},"3sklxkf9yyfowrf0o1ftbb":{id:"3sklxkf9yyfowrf0o1ftbb",author:"sarah_edo",text:"The idea of best practices being a negative thing is an interesting concept.",timestamp:1515044095650,likes:["dan_abramov"],replyingTo:"czpa59mg577x1oo45cup0d",replies:[]},"26p5pskqi88i58qmza2gid":{id:"26p5pskqi88i58qmza2gid",author:"tylermcginnis",text:"Too relatable",timestamp:1514044994650,likes:["sarah_edo"],replyingTo:"2mb6re13q842wu8n106bhk",replies:[]},xi3ca2jcfvpa0i3t4m7ag:{id:"xi3ca2jcfvpa0i3t4m7ag",author:"tylermcginnis",text:"Just DMd you!",timestamp:1510043995650,likes:[],replyingTo:"6h5ims9iks66d4m7kqizmv",replies:[]},r0xu2v1qrxa6ygtvf2rkjw:{id:"r0xu2v1qrxa6ygtvf2rkjw",author:"dan_abramov",text:"This is a great idea.",timestamp:1510044395650,likes:["tylermcginnis"],replyingTo:"6h5ims9iks66d4m7kqizmv",replies:[]}};function k(e){var t=e.text,a=e.author,n=e.replyingTo;return new Promise((function(e,r){var i=function(e){var t=e.author,a=e.text,n=e.replyingTo,r=void 0===n?null:n;return{author:t,id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),likes:[],replies:[],text:a,timestamp:Date.now(),replyingTo:r}}({text:t,author:a,replyingTo:n});setTimeout((function(){y=Object(b.a)({},y,Object(f.a)({},i.id,i)),v=Object(b.a)({},v,Object(f.a)({},a,Object(b.a)({},v[a],{tweets:v[a].tweets.concat([i.id])}))),e(i)}),1e3)}))}function j(e){return function(e){var t=e.id,a=e.hasLiked,n=e.authedUser;return new Promise((function(e,r){setTimeout((function(){y=Object(b.a)({},y,Object(f.a)({},t,Object(b.a)({},y[t],{likes:!0===a?y[t].likes.filter((function(e){return e!==n})):y[t].likes.concat([n])}))),e()}),500)}))}(e)}var w=a(11),x=a.n(w);function E(e,t){return function(a,n){var r,i=n().authedUser;return a(Object(w.showLoading)()),(r={text:e,author:i,replyingTo:t},k(r)).then((function(e){return a(function(e){return{type:"ADD_TWEET",tweet:e}}(e))})).then((function(){return a(Object(w.hideLoading)())}))}}function T(e){return{type:"TOGGLE_TWEET",id:e.id,authedUser:e.authedUser,hasLiked:e.hasLiked}}function O(e){return function(t){return t(T(e)),j(e).catch((function(a){console.warn("Error in handleToggleTweet: ",a),t(T(e)),alert("There was an error liking the tweet. Try again.")}))}}function z(){return function(e){return e(Object(w.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(b.a)({},v))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(b.a)({},y))}),1e3)}))]).then((function(e){var t=Object(g.a)(e,2);return{users:t[0],tweets:t[1]}})).then((function(t){var a=t.users,n=t.tweets;e(function(e){return{type:"RECEIVE_USERS",users:e}}(a)),e(function(e){return{type:"RECEIVE_TWEETS",tweets:e}}(n)),e({type:"SET_AUTHED_USER",id:"tylermcginnis"}),e(Object(w.hideLoading)())}))}}function q(e,t,a,n){var r=e.id,i=e.likes,s=e.replies,o=e.text,l=e.timestamp;return{name:t.name,id:r,timestamp:l,text:o,avatar:t.avatarURL,likes:i.length,replies:s.length,hasLiked:i.includes(a),parent:n?{author:n.author,id:n.id}:null}}var _=a(21),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLike=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.tweet,i=t.authedUser;n(O({id:r.id,hasLiked:r.hasLiked,authedUser:i}))},a.toParent=function(e,t){e.preventDefault(),a.props.history.push("/tweet/".concat(t))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tweet;if(null===t)return r.a.createElement("p",null,"This Tweet doesn't existed");var a=t.name,n=t.avatar,i=t.timestamp,s=t.text,o=t.hasLiked,l=t.likes,c=t.replies,u=t.id,m=t.parent;return r.a.createElement(p.b,{to:"/chirper-app-reactnd/tweet/".concat(u),className:"tweet"},r.a.createElement("img",{src:n,alt:"Avatar of ".concat(a),className:"avatar"}),r.a.createElement("div",{className:"tweet-info"},r.a.createElement("div",null,r.a.createElement("span",null,a),r.a.createElement("div",null,function(e){var t=new Date(e),a=t.toLocaleTimeString("en-US");return a.substr(0,5)+a.slice(-2)+" | "+t.toLocaleDateString()}(i)),m&&r.a.createElement("button",{className:"replying-to",onClick:function(t){return e.toParent(t,m.id)}},"Replying to @",m.author),r.a.createElement("p",null,s)),r.a.createElement("div",{className:"tweet-icons"},r.a.createElement(_.a,{className:"tweet-icon"}),r.a.createElement("span",null,0!==c&&c),r.a.createElement("button",{className:"heart-button",onClick:this.handleLike},!0===o?r.a.createElement(_.b,{color:"#e0245e",className:"tweet-icon"}):r.a.createElement(_.c,{className:"tweet-icon"})),r.a.createElement("span",null,0!==l&&l))))}}]),t}(n.Component);var L=Object(d.f)(Object(h.connect)((function(e,t){var a=e.authedUser,n=e.users,r=e.tweets,i=r[t.id],s=i?r[i.replyingTo]:null;return{authedUser:a,tweet:i?q(i,n[i.author],a,s):null}}))(S)),I=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"center"},"Your Timeline"),r.a.createElement("ul",{className:"dashboard-list"},this.props.tweetIds.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(L,{id:e}))}))))}}]),t}(n.Component);var U=Object(h.connect)((function(e){var t=e.tweets;return{tweetIds:Object.keys(t).sort((function(e,a){return t[a].timestamp-t[e].timestamp}))}}))(I),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",toHome:!1},a.handleChange=function(e){var t=e.target.value;a.setState((function(){return{text:t}}))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.text,n=a.props,r=n.dispatch,i=n.id;r(E(t,i)),console.log("New Tweet: ",t),a.setState((function(){return{text:"",toHome:!i}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.text;if(!0===e.toHome)return r.a.createElement(d.a,{to:"/chirper-app-reactnd/"});var a=280-t.length;return r.a.createElement("div",null,r.a.createElement("h3",{className:"center"},"Compose new Tweet"),r.a.createElement("form",{className:"new-tweet",onSubmit:this.handleSubmit},r.a.createElement("textarea",{placeholder:"What's happening?",value:t,onChange:this.handleChange,className:"textarea",maxLength:280}),a<=100&&r.a.createElement("div",{className:"tweet-length"},a),r.a.createElement("button",{className:"btn",type:"submit",disabled:""===t},"Submit")))}}]),t}(n.Component),C=Object(h.connect)()(N),R=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.replies;return r.a.createElement("div",null,r.a.createElement(L,{id:t}),r.a.createElement(C,{id:t}),0!==a.length&&r.a.createElement("h3",{className:"center"},"Replies"),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(L,{id:e}))}))))}}]),t}(n.Component);var D=Object(h.connect)((function(e,t){e.authedUser;var a=e.tweets,n=(e.users,t.match.params.id);return{id:n,replies:a[n]?a[n].replies.sort((function(e,t){return a[t].timestamp-a[e].timestamp})):[]}}))(R);function P(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.c,{to:"/chirper-app-reactnd/",exact:!0,activeClassName:"active"},"Home")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/chirper-app-reactnd/new",activeClassName:"active"},"New Tweet"))))}var A=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(z())}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(x.a,null),r.a.createElement("div",{className:"container"},r.a.createElement(P,null),!0===this.props.loading?null:r.a.createElement("div",null,r.a.createElement(d.b,{path:"/chirper-app-reactnd/",exact:!0,component:U}),r.a.createElement(d.b,{path:"/chirper-app-reactnd/tweet/:id",component:D}),r.a.createElement(d.b,{path:"/chirper-app-reactnd/new",component:C})))))}}]),t}(n.Component);var W=Object(h.connect)((function(e){return{loading:null===e.authedUser}}))(A),G=a(13);var H=Object(G.c)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHED_USER":return t.id;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_USERS":return Object(b.a)({},e,{},t.users);default:return e}},tweets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_TWEETS":return Object(b.a)({},e,{},t.tweets);case"TOGGLE_TWEET":return Object(b.a)({},e,Object(f.a)({},t.id,Object(b.a)({},e[t.id],{likes:!0===t.hasLiked?e[t.id].likes.filter((function(e){return e!==t.authedUser})):e[t.id].likes.concat([t.authedUser])})));case"ADD_TWEET":var a=t.tweet,n={};return null!==a.replyingTo&&(n=Object(f.a)({},a.replyingTo,Object(b.a)({},e[a.replyingTo],{replies:e[a.replyingTo].replies.concat([a.id])}))),Object(b.a)({},e,Object(f.a)({},t.tweet.id,t.tweet),n);default:return e}},loadingBar:w.loadingBarReducer}),M=a(31),B=function(e){return function(t){return function(a){console.group(a.type),console.log("The action: ",a);var n=t(a);return console.log("The new state: ",e.getState()),console.groupEnd(),n}}},V=Object(G.a)(M.a,B),J=Object(G.d)(H,V);s.a.render(r.a.createElement(h.Provider,{store:J},r.a.createElement(W,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.ebeef3f9.chunk.js.map